<html lang="ko" dir="ltr">
<head>
  <title>내용을 확인해볼까요 - 블라인드 레터</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no">

  <link rel="manifest" href="../manifest.json">
  <meta property="og:title" content="블라인드 레터, 익명의 메세지를 남겨보세요.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blindletter.net">
  <meta property="og:description" content="블라인드 레터, 익명의 메세지를 남겨보세요.">
  <meta property="og:image" content="">
  <meta property="og:image:width" content="310">
  <meta property="og:image:height" content="310">

  <link href="../static/styles/send.css" rel="stylesheet">
  <script type="text/javascript" src="../static/scripts/base.js"></script>

  <script>
  </script>
</head>
<body class="loaded">
<form method="get" action="../send_phone/" class="container">
  <input type="hidden" name="id"/>
  <header>
    <h1 class="js_header">내용을 확인하려면<br>나도 다른 사람에게 메세지를<br>보내야해요.</h1>
  </header>
  <article>
    <section class="form">
      <label>
        <h4>받을 사람의 이름</h4>
        <input type="text" name="nick" placeholder="김별명"/>
        <h4>하고싶은 말</h4>
        <textarea name="text" placeholder="아무말"></textarea>
      </label>
    </section>
  </article>
  <footer>
    <button disabled>다음</button>
  </footer>
</form>
<script>
  var urlParams = getUrlParams();
  if (urlParams.id === undefined || urlParams.id.length === 0) {
    document.querySelector('.js_header').innerHTML = '받을 사람의 이름과<br>하고싶은 말을 입력하세요.'
  }
  document.querySelector('[name=id]').value = urlParams.id;

  function nextButtonControl() {
    var button = document.querySelector('footer button');
    var nick = document.querySelector('[name=nick]');
    var text = document.querySelector('[name=text]');

    button.disabled = nick.value.length === 0 || text.value.length === 0;
  }

  document.querySelector('[name=nick]').addEventListener('keyup', nextButtonControl);
  document.querySelector('[name=text]').addEventListener('keyup', nextButtonControl);
</script>
</body>
</html>